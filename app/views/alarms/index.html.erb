
<h3><u>Alarms</u></h3>

<div class = "z-depth-5 hoverable scroller">
  <table>
    <thead>
      <tr>
        <th style = "white-space: nowrap; padding-right: 35px;">Associated Device</th>
        <th style = "white-space: nowrap; padding-right: 35px;">Associated Message</th>
        <th style = "white-space: nowrap; padding-right: 35px;">Acknowledged</th>
        <th style = "white-space: nowrap; padding-right: 35px;">Acknowledged By</th>
        <th style = "white-space: nowrap; padding-right: 35px;">Date acknowledged</th>
        <th style = "white-space: nowrap; padding-right: 35px;">Alarm reason</th>
        <th style = "white-space: nowrap; padding-right: 35px;">Note</th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @alarms.each do |alarm| %>
        <tr>
          <td style = "padding-right: 35px;">
            <% if !alarm.device.nil?%>
              <%= alarm.device.Name %>
            <% else %>
              N/A
            <% end %>
          </td>

          <td style = "padding-right: 35px;">
            <% if !alarm.message.nil?%>
              <%= alarm.message.Data %>
            <% else %>
              N/A
            <% end %>
          </td>

          <td style = "padding-right: 35px;"><%= alarm.acknowledged %></td>

          <td style = "padding-right: 35px;">
            <% if !alarm.user.nil?%>
              <%= alarm.user.name %>
            <% else %>
              N/A
            <% end %>
          </td>

          <td style = "padding-right: 35px;"><%= alarm.date_acknowledged %></td>
          <td style = "padding-right: 35px;"><%= alarm.alarm_reason %></td>
          <td style = "padding-right: 35px;"><%= alarm.note %></td>
          <td><%= link_to 'Show', alarm, class: "waves-effect waves-light blue lighten-1 btn-small white-text" %></td>
          <td><%= link_to 'Edit', edit_alarm_path(alarm), class: "waves-effect waves-light blue lighten-1 btn-small white-text" %></td>
          <td><%= link_to 'Delete', alarm, method: :delete, data: { confirm: 'Are you sure?' }, class: "waves-effect waves-light blue lighten-1 btn-small white-text" %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<br>

<%= link_to 'New Alarm', new_alarm_path, class: "waves-effect waves-light blue lighten-1 btn-small white-text" %> |
<%= link_to 'Back to Dashboard', root_path, class: "waves-effect waves-light blue lighten-1 btn-small white-text" %>